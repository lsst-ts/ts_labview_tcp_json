@startuml
skinparam classAttributeIconSize 0

abstract class TcpServerBase {
- serverPort : int
- serverTimeout : int
- serverBytesToRead : int
- tcpListenerID : tcp network connection
- tcpConnectionID : tcp network connection
- tcpServerQueue : queue refnum
- tcpClientQueue : queue refnum
- regMsg  : 2d array strings
- TcpServer : User Event Refnum
- lastCmdId : int
- firstPacket : boolean
- firstConnection : boolean
+ createQueues()
+ regTcpServerUserEvent()
+ checkListOfRegMsg()
+ msgDetailsToJSON()
+ runServerBase()
+ tcpServerStateMachine()
+ tcpServerSenderLoop()
+ unregTcpServerUserEvent()
}

class TcpServerCmd {
- regCommand : 1d array string
- userEventInstance : cluster of User Event Refnum
+ processCmd()
+ processEvent()
+ regUserEvent()
+ runServerCmd()
+ sendCmdStatus()
}

class TcpServerTel {
+ runServerTel()
}

class TcpServer {
- TcpServerCmd : lvclass
- TcpServerTel : lvclass
+ configServer()
+ getInstanceCmd()
+ getInstanceGen()
+ getInstanceMsg()
+ getInstanceTcpServer()
+ registerCommand()
+ registerEvent()
+ runServer()
}

TcpServerBase <|-- TcpServerCmd
TcpServerBase <|-- TcpServerTel
TcpServer *-- TcpServerCmd
TcpServer *-- TcpServerTel
@enduml
